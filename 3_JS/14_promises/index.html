<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Promises</h1>
    <ul id="items"></ul>
    <script>
        const getItems = document.getElementById('items');
        
        // fetch('https://api.freeapi.app/api/v1/public/randomproducts')
        // .then((response) => {response.json()     // Ye basically responce ko json say 1k obj may convert karta hai
        //      
        //      // uparka hai wo json say ik promise return kar raha hai to aagay firsay .then() lagakar actual data aa gaya 
        //      /* response.json() may responce kay uppar .json() nam ka function hai 
        //      jo ise responce ko obj may conve kar raha hai but in return ye promice return kar raha hai  */ 
        // 
        // .then((obj) => {             // json say obj may convert hojanay kay bad may ye operation perform karunga
        //         console.log(obj);
        //         const products = obj.data.data;
        //         console.log(products);
        //         products.forEach((element) => {
        //             const li = document.createElement('li');
        //             li.innerText = element.title;
        //             getItems.appendChild(li);
        //         });
        //     })
        //     .catch((err) => {
        //         console.log('Error converting JSON');
        //     });
        // })
        // .catch(() => {})
        // .finally(() => {});

//    ------ OR ------
        
        // fetch('https://api.freeapi.app/api/v1/public/randomproducts')
        // .then((response) => response.json())
        // .then((obj) => {
        //     console.log(obj);
        //         const products = obj.data.data;
        //         console.log(products);
        //         products.forEach((element) => {
        //             const li = document.createElement('li');
        //             li.innerText = element.title;
        //             getItems.appendChild(li);
        //         });
        // })
        // .catch(() => {})
        // .finally(() => {});

//    ------ OR ------

    function renderToScreen(obj) {
        console.log(obj);
            const products = obj.data.data;
            console.log(products);
            products.forEach((element) => {
                const li = document.createElement('li');
                li.innerText = element.title;
                getItems.appendChild(li);
            });
    }

    fetch('https://api.freeapi.app/api/v1/public/randomproducts')
    .then((response) => response.json())
    .then(renderToScreen)
    .catch(() => {})
    .finally(() => {}); 

    </script>
</body>
</html>